<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PyHelios: PyHelios</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="pyhelios-custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="PyHelios_logo_whiteborder.png"/></td>
  <td id="projectalign">
   <div id="projectname">PyHelios
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">PyHelios </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> </p><div align="center"> <img src="docs/images/PyHelios_logo_whiteborder.png" alt="" width="300" class="inline"/> </div><h1><a class="anchor" id="autotoc_md307"></a>
PyHelios</h1>
<p>Cross-platform Python bindings for <a href="https://github.com/PlantSimulationLab/Helios">Helios</a> 3D plant simulation library.</p>
<p>PyHelios provides a Python interface to the powerful Helios C++ library for 3D physical simulation of plant and environmental systems. It enables plant modeling, geometry manipulation, and biophysical simulations including GPU-accelerated radiation transfer, photosynthesis, and plant architecture modeling.</p>
<p>For complete documentation of the Helios library, please visit <a href="https://baileylab.ucdavis.edu/software/helios">https://baileylab.ucdavis.edu/software/helios</a></p>
<h2><a class="anchor" id="autotoc_md308"></a>
Platform Support</h2>
<p>PyHelios now works across multiple platforms:</p>
<ul>
<li>✅ <b>Windows</b> (x64) - Full native support</li>
<li>✅ <b>macOS</b> (Intel/Apple Silicon) - Native support with build-from-source</li>
<li>✅ <b>Linux</b> (x64) - Native support with build-from-source <br  />
</li>
<li>✅ <b>Development Mode</b> - Explicit mock mode for development without native libraries</li>
</ul>
<h2><a class="anchor" id="autotoc_md309"></a>
Installation</h2>
<h3><a class="anchor" id="autotoc_md310"></a>
Full Installation with Native Helios Libraries</h3>
<h4><a class="anchor" id="autotoc_md311"></a>
Windows</h4>
<div class="fragment"><div class="line"># Prerequisites: Visual Studio 2019+ or Build Tools</div>
<div class="line">git clone --recursive git@github.com:PlantSimulationLab/PyHelios.git</div>
<div class="line">cd PyHelios/</div>
<div class="line"> </div>
<div class="line"># Build native library (optional - pre-built binaries included)</div>
<div class="line">build_scripts/build_helios</div>
<div class="line"> </div>
<div class="line"># Install</div>
<div class="line">pip install -e .</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md312"></a>
macOS</h4>
<div class="fragment"><div class="line"># Prerequisites: Xcode command line tools</div>
<div class="line">xcode-select --install</div>
<div class="line"> </div>
<div class="line">git clone --recursive git@github.com:PlantSimulationLab/PyHelios.git</div>
<div class="line">cd PyHelios/</div>
<div class="line"> </div>
<div class="line"># Build native library</div>
<div class="line">build_scripts/build_helios</div>
<div class="line"> </div>
<div class="line"># Install</div>
<div class="line">pip install -e .</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md313"></a>
Linux (Ubuntu/Debian)</h4>
<div class="fragment"><div class="line"># Prerequisites: Build tools and CMake</div>
<div class="line">sudo apt-get update</div>
<div class="line">sudo apt-get install build-essential cmake</div>
<div class="line"> </div>
<div class="line">git clone --recursive git@github.com:PlantSimulationLab/PyHelios.git</div>
<div class="line">cd PyHelios/</div>
<div class="line"> </div>
<div class="line"># Build native library  </div>
<div class="line">build_scripts/build_helios</div>
<div class="line"> </div>
<div class="line"># Install</div>
<div class="line">pip install -e .</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md314"></a>
Usage</h2>
<ul>
<li>Creating a basic Context and adding a Patch</li>
</ul>
<div class="fragment"><div class="line"> python</div>
<div class="line">from pyhelios import Context</div>
<div class="line">from pyhelios import DataTypes</div>
<div class="line"> </div>
<div class="line">context = Context()</div>
<div class="line"> </div>
<div class="line">center = DataTypes.vec3(2, 3, 4)</div>
<div class="line">size = DataTypes.vec2(1, 1)</div>
<div class="line">color = DataTypes.RGBcolor(0.25, 0.25, 0.25)</div>
<div class="line"> </div>
<div class="line">patch_uuid = context.addPatch(</div>
<div class="line">    center=center,</div>
<div class="line">    size=size,</div>
<div class="line">    color=color</div>
<div class="line">)</div>
</div><!-- fragment --><ul>
<li>Creating a Lemon tree and an Olive tree using WeberPennTree plugin</li>
</ul>
<div class="fragment"><div class="line"> python</div>
<div class="line">from pyhelios import Context, WeberPennTree, WPTType</div>
<div class="line"> </div>
<div class="line">context = Context()</div>
<div class="line">wpt = WeberPennTree(context)</div>
<div class="line"> </div>
<div class="line">tree_id_lemon = wpt.buildTree(WPTType.LEMON)</div>
<div class="line">tree_id_olive = wpt.buildTree(WPTType.OLIVE)</div>
</div><!-- fragment --><ul>
<li>GPU-accelerated radiation simulation with graceful plugin handling</li>
</ul>
<div class="fragment"><div class="line"> python</div>
<div class="line">from pyhelios import Context, RadiationModel, RadiationModelError</div>
<div class="line"> </div>
<div class="line">context = Context()</div>
<div class="line"># Add geometry (PLY files, patches, trees, etc.)</div>
<div class="line"> </div>
<div class="line">try:</div>
<div class="line">    # RadiationModel automatically checks plugin availability</div>
<div class="line">    with RadiationModel(context) as radiation:</div>
<div class="line">        radiation.add_radiation_band(&quot;SW&quot;)</div>
<div class="line">        radiation.set_direct_ray_count(&quot;SW&quot;, 100)</div>
<div class="line">        radiation.set_diffuse_ray_count(&quot;SW&quot;, 300)</div>
<div class="line">        </div>
<div class="line">        # Run GPU simulation</div>
<div class="line">        radiation.run_band(&quot;SW&quot;)</div>
<div class="line">        results = radiation.get_total_absorbed_flux()</div>
<div class="line">        </div>
<div class="line">        # Apply native pseudocolor mapping for visualization</div>
<div class="line">        all_uuids = context.getAllUUIDs()</div>
<div class="line">        context.colorPrimitiveByDataPseudocolor(all_uuids, &quot;radiation_flux_SW&quot;, &quot;hot&quot;, 256)</div>
<div class="line">        </div>
<div class="line">except RadiationModelError as e:</div>
<div class="line">    print(f&quot;Radiation modeling not available: {e}&quot;)</div>
<div class="line">    # Error includes specific instructions for enabling radiation plugin</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md315"></a>
Plugin Status and Runtime Detection</h2>
<p>PyHelios automatically detects available plugins and provides comprehensive status information:</p>
<div class="fragment"><div class="line"><span class="keyword">from</span> pyhelios <span class="keyword">import</span> Context</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Context automatically reports available plugins</span></div>
<div class="line">context = Context()</div>
<div class="line"><span class="comment"># Output: &quot;PyHelios Context created with 8 available plugins: weberpenntree, canopygenerator, visualizer...&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># Check specific plugin availability</span></div>
<div class="line"><span class="keywordflow">if</span> context.is_plugin_available(<span class="stringliteral">&#39;radiation&#39;</span>):</div>
<div class="line">    print(<span class="stringliteral">&quot;GPU radiation modeling available&quot;</span>)</div>
<div class="line"><span class="keywordflow">else</span>:</div>
<div class="line">    print(<span class="stringliteral">&quot;Radiation plugin not available - build with --profile gpu-accelerated to enable&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Get detailed plugin status</span></div>
<div class="line">context.print_plugin_status()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md316"></a>
Command-Line Plugin Tools</h3>
<div class="fragment"><div class="line"># Comprehensive plugin status</div>
<div class="line">python -m pyhelios.plugins status</div>
<div class="line"> </div>
<div class="line"># System analysis and recommendations</div>
<div class="line">python -m pyhelios.plugins discover</div>
<div class="line"> </div>
<div class="line"># Information about specific plugins</div>
<div class="line">python -m pyhelios.plugins info radiation</div>
<div class="line"> </div>
<div class="line"># Validate plugin combinations</div>
<div class="line">python -m pyhelios.plugins validate --plugins radiation,visualizer</div>
</div><!-- fragment --><p><b>Important</b>: PyHelios follows a fail-fast philosophy. When native libraries are not available, operations will raise explicit <code>RuntimeError</code> exceptions with clear, actionable error messages explaining what failed and how to fix it. Mock mode is only used during development and testing - it does not silently provide fallback functionality.</p>
<h2><a class="anchor" id="autotoc_md317"></a>
Development and Testing</h2>
<div class="fragment"><div class="line"># Run tests (works on all platforms)</div>
<div class="line">pytest</div>
<div class="line"> </div>
<div class="line"># Run only cross-platform tests</div>
<div class="line">pytest -m cross_platform</div>
<div class="line"> </div>
<div class="line"># Run only tests that need native libraries</div>
<div class="line">pytest -m native_only</div>
<div class="line"> </div>
<div class="line"># Run with coverage</div>
<div class="line">pytest --cov=pyhelios</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md318"></a>
Building Native Libraries</h2>
<p>PyHelios now supports <b>flexible plugin selection</b> for customized builds based on your hardware and requirements. Choose from <b>21 available plugins</b> using predefined profiles or explicit selection.</p>
<h3><a class="anchor" id="autotoc_md319"></a>
Quick Start with Profiles</h3>
<div class="fragment"><div class="line"># Minimal build (core functionality only)</div>
<div class="line">build_scripts/build_helios --profile minimal</div>
<div class="line"> </div>
<div class="line"># Standard build (recommended for most users)</div>
<div class="line">build_scripts/build_helios --profile standard</div>
<div class="line"> </div>
<div class="line"># GPU-accelerated build (requires CUDA for radiation modeling)</div>
<div class="line">build_scripts/build_helios --profile gpu-accelerated</div>
<div class="line"> </div>
<div class="line"># Full research suite (comprehensive plugin set)</div>
<div class="line">build_scripts/build_helios --profile research</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md320"></a>
Advanced Plugin Selection</h3>
<div class="fragment"><div class="line"># Custom plugin selection</div>
<div class="line">build_scripts/build_helios --plugins weberpenntree,canopygenerator,visualizer,energybalance</div>
<div class="line"> </div>
<div class="line"># Interactive selection (guided setup)</div>
<div class="line">build_scripts/build_helios --interactive</div>
<div class="line"> </div>
<div class="line"># Exclude problematic plugins</div>
<div class="line">build_scripts/build_helios --profile standard --exclude radiation</div>
<div class="line"> </div>
<div class="line"># Discover optimal configuration for your system</div>
<div class="line">python -m pyhelios.plugins discover</div>
<div class="line"> </div>
<div class="line"># Check plugin status and availability</div>
<div class="line">python -m pyhelios.plugins status</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md321"></a>
Configuration File Support</h3>
<p>Create <code>pyhelios_config.yaml</code> for persistent plugin preferences:</p>
<div class="fragment"><div class="line">plugins:</div>
<div class="line">  selection_mode: &quot;profile&quot;</div>
<div class="line">  profile: &quot;standard&quot;</div>
<div class="line">  excluded_plugins:</div>
<div class="line">    - radiation  # Exclude if no GPU available</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md322"></a>
Available Plugin Profiles</h3>
<ul>
<li><b>minimal</b>: Core functionality (weberpenntree, canopygenerator, solarposition)</li>
<li><b>standard</b>: Standard features with visualization (adds energybalance, photosynthesis, visualizer) <br  />
</li>
<li><b>gpu-accelerated</b>: High-performance GPU features (adds radiation for ray tracing)</li>
<li><b>research</b>: Comprehensive research suite (most plugins for academic use)</li>
<li><b>production</b>: Production-ready features (reliable, well-tested plugins)</li>
<li><b>visualization</b>: Focus on rendering and visualization</li>
<li><b>sensing</b>: Remote sensing and LiDAR simulation</li>
<li><b>physics</b>: Comprehensive physics modeling</li>
<li><b>development</b>: Minimal set for PyHelios development</li>
</ul>
<h2><a class="anchor" id="autotoc_md323"></a>
Troubleshooting</h2>
<h3><a class="anchor" id="autotoc_md324"></a>
Native Library Requirements</h3>
<ul>
<li><b>Problem</b>: Operations raise "mock mode" or "native library required" errors</li>
<li><b>Solution</b>: Build and install native libraries using <code>build_scripts/build_helios</code></li>
<li><b>Note</b>: PyHelios requires native libraries for full functionality - mock mode is only for development/testing</li>
</ul>
<h3><a class="anchor" id="autotoc_md325"></a>
Build Issues</h3>
<ul>
<li><b>Windows</b>: Ensure Visual Studio or Build Tools are installed</li>
<li><b>macOS</b>: Install Xcode command line tools with <code>xcode-select --install</code></li>
<li><b>Linux</b>: Install build essentials with <code>sudo apt-get install build-essential cmake</code></li>
</ul>
<h3><a class="anchor" id="autotoc_md326"></a>
Import Errors</h3>
<ul>
<li>Verify installation: <code>pip list | grep pyhelios</code></li>
<li>Check Python version: Requires Python 3.7+</li>
<li>Try reinstalling: <code>pip install -e . --force-reinstall</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md327"></a>
Advanced Features</h2>
<h3><a class="anchor" id="autotoc_md328"></a>
GPU Radiation Simulation</h3>
<ul>
<li>OptiX-accelerated ray tracing for realistic radiation modeling</li>
<li>Direct and diffuse radiation calculations</li>
<li>Multi-bounce scattering simulation</li>
<li>Native pseudocolor mapping for visualization</li>
<li>Example: <code>docs/examples/stanford_bunny_radiation.py</code></li>
</ul>
<h3><a class="anchor" id="autotoc_md329"></a>
C++ Plugin Development</h3>
<p>For developers looking to integrate additional C++ plugins, see <code><a class="el" href="cpp__plugin__integration__guide_8md.html">docs/cpp_plugin_integration_guide.md</a></code> for comprehensive guidance on:</p><ul>
<li>Native library building and linking</li>
<li>Python wrapper implementation</li>
<li>Cross-platform considerations</li>
<li>Testing and documentation standards</li>
</ul>
<p>For additional support, see the <a href="https://baileylab.ucdavis.edu/software/helios">Helios documentation</a> or <a href="https://github.com/PlantSimulationLab/PyHelios/issues">GitHub issues</a>. </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
