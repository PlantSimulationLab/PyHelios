<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PyHelios: Development Mode</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="pyhelios-custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="PyHelios_logo_whiteborder.png"/></td>
  <td id="projectalign">
   <div id="projectname">PyHelios
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('MockMode.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Development Mode</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_docs_2mock__mode"></a></p>
<p>PyHelios includes a comprehensive mock mode that enables development and testing without requiring native libraries. This is perfect for development workflows, CI/CD, and cross-platform compatibility.</p>
<h1><a class="anchor" id="autotoc_md110"></a>
What is Mock Mode?</h1>
<p>Mock mode provides:</p><ul>
<li><b>Full API compatibility</b> without native libraries</li>
<li><b>Development and testing</b> on any platform</li>
<li><b>CI/CD integration</b> without complex build requirements</li>
<li><b>Cross-platform development</b> before native library availability</li>
</ul>
<h1><a class="anchor" id="autotoc_md111"></a>
Enabling Mock Mode</h1>
<h2><a class="anchor" id="autotoc_md112"></a>
Environment Variable</h2>
<div class="fragment"><div class="line"># Enable mock mode globally</div>
<div class="line">export PYHELIOS_DEV_MODE=1</div>
<div class="line"> </div>
<div class="line"># In Python</div>
<div class="line">import os</div>
<div class="line">os.environ[&#39;PYHELIOS_DEV_MODE&#39;] = &#39;1&#39;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md113"></a>
Programmatic Control</h2>
<div class="fragment"><div class="line"><span class="keyword">from</span> pyhelios <span class="keyword">import</span> dev_utils</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Enable mock mode</span></div>
<div class="line">dev_utils.enable_mock_mode()</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Check current mode</span></div>
<div class="line"><span class="keywordflow">if</span> dev_utils.is_mock_mode():</div>
<div class="line">    print(<span class="stringliteral">&quot;Running in mock mode&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Disable mock mode</span></div>
<div class="line">dev_utils.disable_mock_mode()</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md114"></a>
Mock Mode Behavior</h1>
<h2><a class="anchor" id="autotoc_md115"></a>
API Compatibility</h2>
<p>All PyHelios APIs work in mock mode with realistic return values:</p>
<div class="fragment"><div class="line"><span class="keyword">from</span> pyhelios <span class="keyword">import</span> Context, WeberPennTree, WPTType</div>
<div class="line"> </div>
<div class="line"><span class="comment"># This works in mock mode</span></div>
<div class="line">context = Context()</div>
<div class="line">wpt = WeberPennTree(context)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Mock functions return realistic UUIDs</span></div>
<div class="line">tree_uuid = wpt.build_tree(WPTType.LEMON)</div>
<div class="line">print(f<span class="stringliteral">&quot;Mock tree UUID: {tree_uuid}&quot;</span>)  <span class="comment"># Returns valid UUID</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># Mock geometry operations</span></div>
<div class="line">patch_uuid = context.add_patch(center=(0,0,0), size=(1,1))</div>
<div class="line">area = context.get_primitive_area(patch_uuid)</div>
<div class="line">print(f<span class="stringliteral">&quot;Mock area: {area}&quot;</span>)  <span class="comment"># Returns reasonable value</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md116"></a>
Fail-Fast Philosophy</h2>
<p>Mock mode follows PyHelios's fail-fast philosophy:</p>
<div class="fragment"><div class="line"><span class="keyword">from</span> pyhelios <span class="keyword">import</span> RadiationModel</div>
<div class="line"><span class="keyword">from</span> <a class="code hl_namespace" href="namespacepyhelios_1_1exceptions.html">pyhelios.exceptions</a> <span class="keyword">import</span> HeliosMockModeError</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">try</span>:</div>
<div class="line">    <span class="comment"># This will raise an explicit error in mock mode</span></div>
<div class="line">    <span class="keyword">with</span> RadiationModel(context) <span class="keyword">as</span> radiation:</div>
<div class="line">        radiation.run_band(<span class="stringliteral">&quot;SW&quot;</span>)</div>
<div class="line"><span class="keywordflow">except</span> HeliosMockModeError <span class="keyword">as</span> e:</div>
<div class="line">    print(f<span class="stringliteral">&quot;Mock mode limitation: {e}&quot;</span>)</div>
<div class="line">    <span class="comment"># Error includes instructions for using real functionality</span></div>
<div class="ttc" id="anamespacepyhelios_1_1exceptions_html"><div class="ttname"><a href="namespacepyhelios_1_1exceptions.html">pyhelios.exceptions</a></div><div class="ttdef"><b>Definition</b> <a href="exceptions_8py_source.html#l00001">exceptions.py:1</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md117"></a>
Development Workflows</h1>
<h2><a class="anchor" id="autotoc_md118"></a>
Local Development</h2>
<div class="fragment"><div class="line"><span class="comment"># Development script that works with or without native libraries</span></div>
<div class="line"><span class="keyword">import</span> os</div>
<div class="line"><span class="keyword">from</span> pyhelios <span class="keyword">import</span> Context</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Automatically use mock mode for development</span></div>
<div class="line"><span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.exists(<span class="stringliteral">&quot;/path/to/native/libraries&quot;</span>):</div>
<div class="line">    os.environ[<span class="stringliteral">&#39;PYHELIOS_DEV_MODE&#39;</span>] = <span class="stringliteral">&#39;1&#39;</span></div>
<div class="line"> </div>
<div class="line">context = Context()</div>
<div class="line"><span class="comment"># Your development code here...</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md119"></a>
Testing Integration</h2>
<div class="fragment"><div class="line"><span class="keyword">import</span> pytest</div>
<div class="line"><span class="keyword">from</span> pyhelios <span class="keyword">import</span> dev_utils</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">@pytest.fixture</span></div>
<div class="line"><span class="keyword">def </span>mock_context():</div>
<div class="line">    <span class="stringliteral">&quot;&quot;&quot;Fixture that provides mock context for testing.&quot;&quot;&quot;</span></div>
<div class="line">    dev_utils.enable_mock_mode()</div>
<div class="line">    <span class="keywordflow">yield</span> Context()</div>
<div class="line">    dev_utils.disable_mock_mode()</div>
<div class="line"> </div>
<div class="line"><span class="keyword">def </span>test_geometry_operations(mock_context):</div>
<div class="line">    <span class="stringliteral">&quot;&quot;&quot;Test that works in mock mode.&quot;&quot;&quot;</span></div>
<div class="line">    patch_uuid = mock_context.add_patch(center=(0,0,0), size=(1,1))</div>
<div class="line">    <span class="keyword">assert</span> patch_uuid <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line">    </div>
<div class="line">    area = mock_context.get_primitive_area(patch_uuid)</div>
<div class="line">    <span class="keyword">assert</span> area &gt; 0</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md120"></a>
CI/CD Integration</h2>
<div class="fragment"><div class="line"># GitHub Actions example</div>
<div class="line">name: PyHelios Tests</div>
<div class="line">on: [push, pull_request]</div>
<div class="line"> </div>
<div class="line">jobs:</div>
<div class="line">  test:</div>
<div class="line">    runs-on: ubuntu-latest</div>
<div class="line">    steps:</div>
<div class="line">      - uses: actions/checkout@v2</div>
<div class="line">      - name: Set up Python</div>
<div class="line">        uses: actions/setup-python@v2</div>
<div class="line">        with:</div>
<div class="line">          python-version: 3.9</div>
<div class="line">      </div>
<div class="line">      - name: Install dependencies</div>
<div class="line">        run: |</div>
<div class="line">          pip install -e .</div>
<div class="line">          </div>
<div class="line">      - name: Run tests in mock mode</div>
<div class="line">        env:</div>
<div class="line">          PYHELIOS_DEV_MODE: 1</div>
<div class="line">        run: |</div>
<div class="line">          pytest -m cross_platform</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md121"></a>
Mock Data and Responses</h1>
<h2><a class="anchor" id="autotoc_md122"></a>
Realistic Mock Data</h2>
<p>Mock mode provides realistic responses:</p>
<div class="fragment"><div class="line">context = Context()</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Mock geometry with realistic properties</span></div>
<div class="line">patch_uuid = context.add_patch(center=(1, 2, 3), size=(2, 4))</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Realistic mock responses</span></div>
<div class="line">center = context.get_primitive_center(patch_uuid)  <span class="comment"># Returns (1, 2, 3)</span></div>
<div class="line">area = context.get_primitive_area(patch_uuid)      <span class="comment"># Returns 8.0 (2*4)</span></div>
<div class="line">normal = context.get_primitive_normal(patch_uuid)  <span class="comment"># Returns (0, 0, 1)</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md123"></a>
Mock Plugin Behavior</h2>
<div class="fragment"><div class="line"><span class="keyword">from</span> <a class="code hl_namespace" href="namespacepyhelios_1_1plugins.html">pyhelios.plugins</a> <span class="keyword">import</span> get_plugin_info</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Mock mode reports no plugins available</span></div>
<div class="line">info = get_plugin_info()</div>
<div class="line">print(f<span class="stringliteral">&quot;Mock plugins: {info[&#39;available_plugins&#39;]}&quot;</span>)  <span class="comment"># Returns []</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># Plugin availability checks work correctly</span></div>
<div class="line"><span class="keywordflow">if</span> context.is_plugin_available(<span class="stringliteral">&#39;radiation&#39;</span>):</div>
<div class="line">    print(<span class="stringliteral">&quot;This won&#39;t print in mock mode&quot;</span>)</div>
<div class="line"><span class="keywordflow">else</span>:</div>
<div class="line">    print(<span class="stringliteral">&quot;Radiation plugin not available in mock mode&quot;</span>)</div>
<div class="ttc" id="anamespacepyhelios_1_1plugins_html"><div class="ttname"><a href="namespacepyhelios_1_1plugins.html">pyhelios.plugins</a></div><div class="ttdef"><b>Definition</b> <a href="plugins_2____init_____8py_source.html#l00001">__init__.py:1</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md124"></a>
Error Handling in Mock Mode</h1>
<h2><a class="anchor" id="autotoc_md125"></a>
Clear Error Messages</h2>
<div class="fragment"><div class="line"><span class="keyword">from</span> pyhelios <span class="keyword">import</span> RadiationModel</div>
<div class="line"><span class="keyword">from</span> <a class="code hl_namespace" href="namespacepyhelios_1_1exceptions.html">pyhelios.exceptions</a> <span class="keyword">import</span> HeliosMockModeError</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">try</span>:</div>
<div class="line">    radiation = RadiationModel(context)</div>
<div class="line">    radiation.run_band(<span class="stringliteral">&quot;SW&quot;</span>)</div>
<div class="line"><span class="keywordflow">except</span> HeliosMockModeError <span class="keyword">as</span> e:</div>
<div class="line">    <span class="comment"># Error includes helpful information</span></div>
<div class="line">    print(f<span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="stringliteral">    Mock Mode Error: {e}</span></div>
<div class="line"><span class="stringliteral">    </span></div>
<div class="line"><span class="stringliteral">    To use real radiation modeling:</span></div>
<div class="line"><span class="stringliteral">    1. Build native libraries: build_scripts/build_helios --profile gpu-accelerated</span></div>
<div class="line"><span class="stringliteral">    2. Disable mock mode: unset PYHELIOS_DEV_MODE</span></div>
<div class="line"><span class="stringliteral">    3. Ensure CUDA is available</span></div>
<div class="line"><span class="stringliteral">    &quot;&quot;&quot;</span>)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md126"></a>
Graceful Degradation</h2>
<div class="fragment"><div class="line"><span class="keyword">from</span> pyhelios <span class="keyword">import</span> Context, dev_utils</div>
<div class="line"> </div>
<div class="line"><span class="keyword">def </span>create_radiation_simulation():</div>
<div class="line">    <span class="stringliteral">&quot;&quot;&quot;Function that works in both mock and real mode.&quot;&quot;&quot;</span></div>
<div class="line">    context = Context()</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> dev_utils.is_mock_mode():</div>
<div class="line">        print(<span class="stringliteral">&quot;Running simulation preview in mock mode&quot;</span>)</div>
<div class="line">        <span class="comment"># Use simplified algorithms for preview</span></div>
<div class="line">        <span class="keywordflow">return</span> run_mock_simulation(context)</div>
<div class="line">    <span class="keywordflow">else</span>:</div>
<div class="line">        print(<span class="stringliteral">&quot;Running full GPU simulation&quot;</span>)</div>
<div class="line">        <span class="comment"># Use real radiation modeling</span></div>
<div class="line">        <span class="keywordflow">return</span> run_gpu_simulation(context)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md127"></a>
Testing Strategies</h1>
<h2><a class="anchor" id="autotoc_md128"></a>
Multi-Mode Testing</h2>
<div class="fragment"><div class="line"><span class="keyword">import</span> pytest</div>
<div class="line"><span class="keyword">from</span> pyhelios <span class="keyword">import</span> dev_utils</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">@pytest.mark.parametrize(&quot;mock_mode&quot;, [True, False])</span></div>
<div class="line"><span class="keyword">def </span>test_context_creation(mock_mode):</div>
<div class="line">    <span class="stringliteral">&quot;&quot;&quot;Test context creation in both modes.&quot;&quot;&quot;</span></div>
<div class="line">    <span class="keywordflow">if</span> mock_mode:</div>
<div class="line">        dev_utils.enable_mock_mode()</div>
<div class="line">    <span class="keywordflow">else</span>:</div>
<div class="line">        dev_utils.disable_mock_mode()</div>
<div class="line">    </div>
<div class="line">    context = Context()</div>
<div class="line">    <span class="keyword">assert</span> context <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment"># Test basic operations</span></div>
<div class="line">    patch_uuid = context.add_patch(center=(0,0,0), size=(1,1))</div>
<div class="line">    <span class="keyword">assert</span> patch_uuid <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md129"></a>
Mock-Specific Tests</h2>
<div class="fragment"><div class="line"><span class="preprocessor">@pytest.mark.mock_mode</span></div>
<div class="line"><span class="keyword">def </span>test_mock_specific_behavior():</div>
<div class="line">    <span class="stringliteral">&quot;&quot;&quot;Test behavior specific to mock mode.&quot;&quot;&quot;</span></div>
<div class="line">    dev_utils.enable_mock_mode()</div>
<div class="line">    </div>
<div class="line">    context = Context()</div>
<div class="line">    </div>
<div class="line">    <span class="comment"># Test that mock mode is detected</span></div>
<div class="line">    <span class="keyword">assert</span> dev_utils.is_mock_mode()</div>
<div class="line">    </div>
<div class="line">    <span class="comment"># Test that expensive operations are mocked</span></div>
<div class="line">    <span class="keyword">with</span> pytest.raises(HeliosMockModeError):</div>
<div class="line">        <span class="keyword">from</span> pyhelios <span class="keyword">import</span> RadiationModel</div>
<div class="line">        radiation = RadiationModel(context)</div>
<div class="line">        radiation.run_band(<span class="stringliteral">&quot;SW&quot;</span>)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md130"></a>
Development Tools</h1>
<h2><a class="anchor" id="autotoc_md131"></a>
Mock Mode Utilities</h2>
<div class="fragment"><div class="line"><span class="keyword">from</span> pyhelios <span class="keyword">import</span> dev_utils</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Check current environment</span></div>
<div class="line">print(f<span class="stringliteral">&quot;Mock mode: {dev_utils.is_mock_mode()}&quot;</span>)</div>
<div class="line">print(f<span class="stringliteral">&quot;Native libraries: {dev_utils.native_libraries_available()}&quot;</span>)</div>
<div class="line">print(f<span class="stringliteral">&quot;Platform: {dev_utils.get_platform_info()}&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Generate mock data for testing</span></div>
<div class="line">mock_data = dev_utils.generate_mock_geometry(num_patches=100)</div>
<div class="line">print(f<span class="stringliteral">&quot;Generated {len(mock_data)} mock primitives&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Mock performance timing</span></div>
<div class="line"><span class="keyword">with</span> dev_utils.mock_timer(<span class="stringliteral">&quot;simulation&quot;</span>):</div>
<div class="line">    <span class="comment"># Your simulation code here</span></div>
<div class="line">    <span class="keywordflow">pass</span></div>
<div class="line"><span class="comment"># Prints realistic timing information</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md132"></a>
Development Helpers</h2>
<div class="fragment"><div class="line"><span class="keyword">from</span> <a class="code hl_namespace" href="namespacepyhelios_1_1dev__utils.html">pyhelios.dev_utils</a> <span class="keyword">import</span> DevelopmentHelper</div>
<div class="line"> </div>
<div class="line">helper = DevelopmentHelper()</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Auto-detect best mode for current environment</span></div>
<div class="line">recommended_mode = helper.recommend_mode()</div>
<div class="line">print(f<span class="stringliteral">&quot;Recommended mode: {recommended_mode}&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Set up development environment</span></div>
<div class="line">helper.setup_development_environment()</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Generate example data</span></div>
<div class="line">helper.create_sample_scene(<span class="stringliteral">&quot;test_scene.json&quot;</span>)</div>
<div class="ttc" id="anamespacepyhelios_1_1dev__utils_html"><div class="ttname"><a href="namespacepyhelios_1_1dev__utils.html">pyhelios.dev_utils</a></div><div class="ttdef"><b>Definition</b> <a href="dev__utils_8py_source.html#l00001">dev_utils.py:1</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md133"></a>
Best Practices</h1>
<h2><a class="anchor" id="autotoc_md134"></a>
When to Use Mock Mode</h2>
<ul>
<li><b>Development</b>: Early stages without native libraries</li>
<li><b>Testing</b>: Unit tests and CI/CD pipelines</li>
<li><b>Prototyping</b>: Quick API exploration</li>
<li><b>Documentation</b>: Examples that run anywhere</li>
</ul>
<h2><a class="anchor" id="autotoc_md135"></a>
When NOT to Use Mock Mode</h2>
<ul>
<li><b>Production</b>: Real simulations need native libraries</li>
<li><b>Performance testing</b>: Mock mode doesn't reflect real performance</li>
<li><b>GPU validation</b>: Testing GPU-specific functionality</li>
<li><b>Final validation</b>: Before deployment</li>
</ul>
<h2><a class="anchor" id="autotoc_md136"></a>
Hybrid Approaches</h2>
<div class="fragment"><div class="line"><span class="keyword">def </span>smart_simulation(use_gpu=None):</div>
<div class="line">    <span class="stringliteral">&quot;&quot;&quot;Automatically choose best available mode.&quot;&quot;&quot;</span></div>
<div class="line">    <span class="keywordflow">if</span> use_gpu <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line">        <span class="comment"># Auto-detect capabilities</span></div>
<div class="line">        use_gpu = (<span class="keywordflow">not</span> dev_utils.is_mock_mode() <span class="keywordflow">and</span> </div>
<div class="line">                  context.is_plugin_available(<span class="stringliteral">&#39;radiation&#39;</span>))</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> use_gpu:</div>
<div class="line">        <span class="keywordflow">return</span> run_gpu_simulation()</div>
<div class="line">    <span class="keywordflow">else</span>:</div>
<div class="line">        <span class="keywordflow">return</span> run_cpu_simulation()</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
